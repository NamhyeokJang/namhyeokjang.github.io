<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>MySQL8.0에서 Spatial Data 사용기 - Chrow&#039;s World</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Chrow&#039;s Blog"><meta name="msapplication-TileImage" content="/img/og_image.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Chrow&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="이것저것 정리하는 블로그입니다."><meta property="og:type" content="blog"><meta property="og:title" content="Chrow의 블로그"><meta property="og:url" content="https://namhyeokjang.github.io/"><meta property="og:site_name" content="chrow&#039;s blog"><meta property="og:description" content="이것저것 정리하는 블로그입니다."><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://namhyeokjang.github.io/images/og_image.png"><meta property="article:published_time" content="2021-12-24T15:34:43.000Z"><meta property="article:modified_time" content="2021-12-26T15:33:05.443Z"><meta property="article:author" content="NamhyeokJang"><meta property="article:tag" content="mysql"><meta property="article:tag" content="database"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/images/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://namhyeokjang.github.io/"},"headline":"Chrow의 블로그","image":["https://namhyeokjang.github.io/images/avartar.png"],"datePublished":"2021-12-24T15:34:43.000Z","dateModified":"2021-12-26T15:33:05.443Z","author":{"@type":"Person","name":"NamhyeokJang"},"publisher":{"@type":"Organization","name":"NamhyeokJang","logo":{"@type":"ImageObject","url":"https://namhyeokjang.github.io/images/og_image.png"}},"description":"이것저것 정리하는 블로그입니다."}</script><link rel="canonical" href="https://namhyeokjang.github.io/2021/12/25/spatial-index/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/logo.png" alt="Chrow&#039;s World" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="카탈로그" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="/assets/mysql.png" alt="MySQL8.0에서 Spatial Data 사용기"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-12-24T15:34:43.000Z" title="2021. 12. 25. 오전 12:34:43">2021-12-25</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2021-12-26T15:33:05.443Z" title="2021. 12. 27. 오전 12:33:05">2021-12-27</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/MySQL/">MySQL</a></span><span class="level-item">8분안에 읽기 (약 1186 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile">MySQL8.0에서 Spatial Data 사용기</h1><div class="content"><p>사용자의 위치정보를 이용한 서비스 개발을 진행하면서 geometry 타입의 데이터를 사용하게 되었습니다.<br>서버는 nodejs로 개발을 진행했으며 개발 스택은 다음과 같습니다.</p>
<ul>
<li>MySQL 8.0</li>
<li>Express</li>
<li>GraphQL</li>
<li>TypeORM (0.2.37)</li>
</ul>
<p>해당 내용에서 줌점적으로 다룰 기술은 TypeORM, MySQL 입니다.<br>Spatial Data에 대한 내용은 쉽게 찾을 수 있으므로 해당 내용은 다루지 않겠습니다.</p>
<span id="more"></span>

<h2 id="예시-코드"><a href="#예시-코드" class="headerlink" title="예시 코드"></a>예시 코드</h2><hr>
<p>좀더 설명을 쉽게 하기 위해 예시를 통해 설명하겠습니다<br>아래는 TypeORM을 이용하여 작성한 코드입니다. </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">@Entity()</span><br><span class="line">@Index(<span class="string">&#x27;PLACE_LOCATION_INDEX&#x27;</span>, [<span class="string">&#x27;location&#x27;</span>], &#123; <span class="attr">spatial</span>: <span class="literal">true</span>, <span class="attr">unique</span>: <span class="literal">false</span> &#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Place</span> <span class="keyword">extends</span> <span class="title">CommonEntity</span> </span>&#123;  @Field(<span class="function">() =&gt;</span> GraphQLInt)</span><br><span class="line">  @PrimaryGeneratedColumn(&#123; <span class="attr">type</span>: <span class="string">&#x27;int&#x27;</span>, <span class="attr">comment</span>: <span class="string">&#x27;pk&#x27;</span> &#125;)</span><br><span class="line">  readonly pId!: number</span><br><span class="line"></span><br><span class="line">  @Column(&#123; <span class="attr">type</span>: <span class="string">&#x27;varchar&#x27;</span>, <span class="attr">nullable</span>: <span class="literal">false</span> &#125;)</span><br><span class="line">  name!: string</span><br><span class="line"></span><br><span class="line">  @Column(&#123; <span class="attr">type</span>: <span class="string">&#x27;geometry&#x27;</span>, <span class="attr">srid</span>: <span class="number">4326</span>, <span class="attr">spatialFeatureType</span>: <span class="string">&#x27;point&#x27;</span>, <span class="attr">nullable</span>: <span class="literal">false</span> &#125;)</span><br><span class="line">  location!: string</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>테스트를 위한 위치기반 쿼리는 아래와 같습니다.<br>37.43659156895352, 126.68398121241327 해당 좌표 반경 10km 이내 포인트 검색하는 쿼리입니다.  </p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span>, ST_AsText(location) <span class="keyword">as</span> locationInText</span><br><span class="line"><span class="keyword">FROM</span> place</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    MBRContains(ST_GeometryFromText(ST_AsText(ST_Envelope(linestring(point((<span class="number">37.43659156895352</span><span class="operator">+</span>(<span class="number">13</span><span class="operator">/</span><span class="number">111</span>)), (<span class="number">126.68398121241327</span><span class="operator">+</span>(<span class="number">13</span><span class="operator">/</span><span class="number">111</span>))), point((<span class="number">37.43659156895352</span><span class="operator">-</span>(<span class="number">13</span><span class="operator">/</span><span class="number">111</span>)), (<span class="number">126.68398121241327</span><span class="operator">-</span>(<span class="number">13</span><span class="operator">/</span><span class="number">111</span>)))))), <span class="number">4326</span>), location);</span><br></pre></td></tr></table></figure>

<p>테스트 데이터는 10,000개로 진행합니다.</p>
<h2 id="Spatial-Index-를-이용한-위치쿼리-최적화"><a href="#Spatial-Index-를-이용한-위치쿼리-최적화" class="headerlink" title="Spatial Index 를 이용한 위치쿼리 최적화"></a>Spatial Index 를 이용한 위치쿼리 최적화</h2><h3 id="TypeORM에서-생성된-테이블에서-테스트"><a href="#TypeORM에서-생성된-테이블에서-테스트" class="headerlink" title="TypeORM에서 생성된 테이블에서 테스트"></a>TypeORM에서 생성된 테이블에서 테스트</h3><p>TypeORM에서 자동으로 수행된 테이블에서 예시 쿼리를 수행한 결과입니다.</p>
<img src="/2021/12/25/spatial-index/1.png" class="">
<p>쿼리 수행하는데 약 1초 이상 (1161 ms) 소요되는 것을 확인할 수 있습니다.<br>쿼리가 이정도로 느리면 서비스에서 사용하기 어렵다고 생각합니다. </p>
<p>explain을 이용하여 쿼리수행계획을 확인해보면 type이 ALL 인 것으로 보아 풀스캔이 발생되는 것을 확인할 수 있습니다. </p>


<p>여기서 짚고 가야하는 것은 분명 TypeORM에서 Entity를 정의할 때 Spatial Index를 설정해주었습니다.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">@Index(<span class="string">&#x27;PLACE_LOCATION_INDEX&#x27;</span>, [<span class="string">&#x27;location&#x27;</span>], &#123; <span class="attr">spatial</span>: <span class="literal">true</span>, <span class="attr">unique</span>: <span class="literal">false</span> &#125;)</span><br></pre></td></tr></table></figure>

<p>MySQL에서 <code>SHOW INDEX FROM place;</code> 쿼리를 이용하여 확인해봅니다.</p>
<img src="/2021/12/25/spatial-index/3.png" class="">
<p>TypeORM이 제대로 Spatial Index를 생성한 것을 확인할 수 있습니다.<br>하지만 쿼리수행계획을 확인했을때 Index를 사용하지 못하고 있는 것으로 확인할 수 있습니다. </p>
<h3 id="위치기반-쿼리-최적화"><a href="#위치기반-쿼리-최적화" class="headerlink" title="위치기반 쿼리 최적화"></a>위치기반 쿼리 최적화</h3><p><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/spatial-type-overview.html">MySQL 공식문서 - spatial type overview</a></p>
<blockquote>
<p>Spatial columns with no SRID attribute are not SRID-restricted and accept values with any SRID. However, the optimizer cannot use SPATIAL indexes on them until the column definition is modified to include an SRID attribute, which may require that the column contents first be modified so that all values have the same SRID.</p>
</blockquote>
<p>공식문서에 따르면 SRID 제약이 있어야 Index를 사용할 수 있다고 합니다.<br>위 내용에 따르면 현재 테이블에 SRID 제약이 없는 것으로 추측됩니다.<br>SRID를 0으로 데이터를 추가해봅니다. </p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> place (createdAt, updatedAt, name, location) <span class="keyword">VALUE</span> (now(), now(), <span class="string">&#x27;aa&#x27;</span>, ST_GeometryFromText(<span class="string">&#x27;POINT(37.43659156895352 126.68398121241327)&#x27;</span>, <span class="number">0</span>));</span><br></pre></td></tr></table></figure>

<p>위 INSERT 쿼리가 수행되는 것을 확인할 수 있습니다.</p>
<img src="/2021/12/25/spatial-index/4.png" class="">

<p>이 실험으로 TypeORM이 생성해준 테이블에는 srid를 설정했음에도 불구하고 srid 제약은 설정하지 않는 것으로 확인할 수 있습니다.</p>
<p>방금 추가했던 데이터를 삭제하고 아래 쿼리를 이용하여 테이블의 location 컬럼에 SRID 제약을 설정해줍니다.</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> place MODIFY location Geometry <span class="keyword">NOT</span> <span class="keyword">NULL</span> SRID <span class="number">4326</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>[HY000][3644] The SRID specification on the column ‘location’ cannot be changed because there is a spatial index on the column. Please remove the spatial index before altering the SRID specification.</p>
</blockquote>
<p>Index가 존재하여 속성을 변경할 수 없다고 합니다.<br>Index를 삭제하고 다시 수행해봅니다. </p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> INDEX `PLACE_LOCATION_INDEX` <span class="keyword">on</span> place;</span><br></pre></td></tr></table></figure>

<p>SRID 0 인 데이터를 다시 추가시도해봅니다.</p>
<blockquote>
<p>[HY000][3643] The SRID of the geometry does not match the SRID of the column ‘location’. The SRID of the geometry is 0, but the SRID of the column is 4326. Consider changing the SRID of the geometry or the SRID property of the column.</p>
</blockquote>
<p>SRID가 0인 데이터를 넣을 수 없다고 MySQL에서 에러가 발생됩니다. SRID 제약이 제대로 설정된 것을 확인할 수 있습니다. </p>
<p>이전에 삭제했던 Spatial Index를 다시 생성해줍니다.</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> SPATIAL INDEX `PLACE_LOCATION_INDEX` <span class="keyword">on</span> place(location);</span><br></pre></td></tr></table></figure>

<p>위치기반 쿼리를 수행해봅니다.</p>
<img src="/2021/12/25/spatial-index/5.png" class="">
<p>쿼리 수행속도가 1초에서 50ms 수준으로 최적화가 되었습니다.<br>explain으로 쿼리 수행 계획을 확인해봅니다.</p>
<img src="/2021/12/25/spatial-index/6.png" class="">

<h2 id="결론"><a href="#결론" class="headerlink" title="결론"></a>결론</h2><p>TypeORM에 의해 생성된 위치데이터 컬럼은 SRID 제약이 없기 때문에 Spatial Index가 생성되어도 사용하지 못합니다.<br>이를 위해서 직접 SRID 제약을 설정하고 Spatial Index를 새로 생성해주어야 합니다.</p>
</div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/mysql/">mysql</a><a class="link-muted mr-2" rel="tag" href="/tags/database/">database</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/12/21/typescript/"><span class="level-item">[Typescript] Init</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">댓글</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://namhyeokjang.github.io/2021/12/25/spatial-index/';
            this.page.identifier = '2021/12/25/spatial-index/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'chrow' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/images/logo.png" alt="NamhyeokJang"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">NamhyeokJang</p><p class="is-size-6 is-block">Chrow&#039;s World</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Incheon</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">포스트</p><a href="/archives"><p class="title">3</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">카테고리</p><a href="/categories"><p class="title">2</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">태그</p><a href="/tags"><p class="title">3</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/NamhyeokJang" target="_blank" rel="noopener">팔로우</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/NamhyeokJang"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">링크</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://github.com/NamhyeokJang" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">github</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/MySQL/"><span class="level-start"><span class="level-item">MySQL</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/typescript/"><span class="level-start"><span class="level-item">typescript</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">최근 글</h3><article class="media"><figure class="media-left"><a class="image" href="/2021/12/25/spatial-index/"><img src="/assets/mysql.png" alt="MySQL8.0에서 Spatial Data 사용기"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-12-24T15:34:43.000Z">2021-12-25</time></p><p class="title"><a href="/2021/12/25/spatial-index/">MySQL8.0에서 Spatial Data 사용기</a></p><p class="categories"><a href="/categories/MySQL/">MySQL</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2021/12/21/typescript/"><img src="/assets/typescript.jpeg" alt="[Typescript] Init"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-12-21T03:49:44.000Z">2021-12-21</time></p><p class="title"><a href="/2021/12/21/typescript/">[Typescript] Init</a></p><p class="categories"><a href="/categories/typescript/">typescript</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-12-07T15:28:10.067Z">2021-12-08</time></p><p class="title"><a href="/2021/12/08/hello-world/">Hello World</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">아카이브</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/12/"><span class="level-start"><span class="level-item">12월 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">태그</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/database/"><span class="tag">database</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql/"><span class="tag">mysql</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/typescript/"><span class="tag">typescript</span><span class="tag">1</span></a></div></div></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">카탈로그</h3><ul class="menu-list"><li><a class="level is-mobile" href="#예시-코드"><span class="level-left"><span class="level-item">1</span><span class="level-item">예시 코드</span></span></a></li><li><a class="level is-mobile" href="#Spatial-Index-를-이용한-위치쿼리-최적화"><span class="level-left"><span class="level-item">2</span><span class="level-item">Spatial Index 를 이용한 위치쿼리 최적화</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#TypeORM에서-생성된-테이블에서-테스트"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">TypeORM에서 생성된 테이블에서 테스트</span></span></a></li><li><a class="level is-mobile" href="#위치기반-쿼리-최적화"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">위치기반 쿼리 최적화</span></span></a></li></ul></li><li><a class="level is-mobile" href="#결론"><span class="level-left"><span class="level-item">3</span><span class="level-item">결론</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/logo.png" alt="Chrow&#039;s World" height="28"></a><p class="is-size-7"><span>&copy; 2021 Namhyeok Jang</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="맨 위로" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "이 웹 사이트는 귀하의 경험을 향상시키기 위해 Cookie를 사용합니다.",
          dismiss: "무시",
          allow: "허용",
          deny: "거부",
          link: "더 알아보기",
          policy: "Cookie 정책",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(제목 없음)","posts":"포스트","pages":"페이지","categories":"카테고리","tags":"태그"});
        });</script></body></html>